#labels Featured,Phase-Design,Phase-Implementation
= Folder Organization =
{{{
jsh             (base folder)
├─bin           (libraries for specific platform)
├─cxx           (used by script injection)
└─lib           (folder for platform independent libraries, each library can be used alone)
}}}

= Library Organization =
{{{
Tartarus.js     (load other libraries, print messages)
Prelude.js      (fundamental algorithm, data structure and exception)
Intermezzo.js   (utility for web browser and DOM)
URI.js          (URI parsing and normalization)
Base64.js       (Base64 encoding and decoding)
LZW.js          (LZW compression and decompression)
UTF8.js         (UTF8 encoding and decoding)
UTF16.js        (UTF16 encoding and decoding, with BOM BE/LE support)
}}}

= JSH Runtime =
=== `__builtins__` ===
All JSH related data are kept in the *`__builtins__`* global variable.<br>
*{{{__builtins__.Engine}}}* _string_<br>
*{{{__builtins__.Environment}}}* _object_<br>
*{{{__builtins__.Terminate()}}}* _function_<br>

=== `_` (underscore) ===
When running in interactive mode, an additional global variable named *`_`* _(a single underscore)_ is maintained, which always holds the last successful evaluation result.

=== `.` commands ===
These are also known as meta commands, available when running interactively in browser and HTA.<br>
{{{
.cls            (clear output)
.history        (show command history)
.wrap           (toggle output wrapping)
}}}

= Library API =
=== Tartarus ===
*{{{chainload(...)}}}*<br>
load scripts one by one in the given order, if the argument is a Function instead of script name String, execute the function instead.<br>
{{{
Tartarus.chainload('http://localhost/script1.js', 'script2.js', '../script3.js');

Tartarus.chainload(
	function(){Tartarus.print('Load the first script...');},
	'http://localhost/sample.js',
	function(){Tartarus.print('Load the second script...');},
	'./script.js',
	function(){Tartarus.print('Done');});
}}}
*{{{load(...)}}}*<br>
similar to _{{{Tartarus.chainload}}}_, but load the scripts concurrently.<br>
if the last argument is a Function, this function will be executed only when all the scripts are loaded.<br>
{{{
Tartarus.load(
	'../lib/Prelude.js',
	'../lib/Intermezzo.js',
	'../lib/URI.js',
function(){
	Tartarus.print(Prelude.dir(URI));,
});
}}}
*{{{print(...)}}}*<br>
output in a proper manner.<br>
{{{
Tartarus.print('Hello, world!');
Tartarus.print(1, 2, 3, [4, 5, 6], undefined, null);
Tartarus.print(Tartarus);
}}}

=== Prelude ===